(()=>{"use strict";var e=e=>Array.isArray(e),t=t=>e(t)?t:[t],n=e=>Array.from(e),i=e=>document.createTextNode(e);const r=e=>([...e.childNodes].forEach(e=>{if(e.nodeValue)return[...e.nodeValue].forEach(t=>{e.parentNode.insertBefore(i(t),e)}),void e.remove();r(e)}),e);var a=e=>{let t=document.implementation.createHTMLDocument();return t.body.innerHTML=e,r(t.body)};const s="ti-cursor",o="START",l={started:!1,completed:!1,frozen:!1,destroyed:!1},u={breakLines:!0,cursor:!0,cursorChar:"|",cursorSpeed:1e3,deleteSpeed:null,html:!0,lifeLike:!0,loop:!1,loopDelay:750,nextStringDelay:750,speed:100,startDelay:250,startDelete:!1,strings:[],waitUntilVisible:!1,beforeString:()=>{},afterString:()=>{},beforeStep:()=>{},afterStep:()=>{},afterComplete:()=>{}};function c(e,t=!1){const n=document.createTreeWalker(e,NodeFilter.SHOW_ALL,{acceptNode:e=>{var t;return(null==(t=null==e?void 0:e.classList)?void 0:t.contains(s))?NodeFilter.FILTER_REJECT:NodeFilter.FILTER_ACCEPT}});let i,r=[];for(;i=n.nextNode();)i.originalParent=i.parentNode,r.push(i);return t?r.reverse():r}function d(e,t=!0){return t?c(a(e)):n(e).map(i)}var h=e=>document.createElement(e),f=(e,t="")=>{let n=h("style");n.id=t,n.appendChild(i(e)),document.head.appendChild(n)};const y=e=>Number.isInteger(e),p=(e,t=document,n=!1)=>t["querySelector"+(n?"All":"")](e);var m=e=>"value"in e;const g=e=>m(e)?n(e.value):c(e,!0).filter(e=>!(e.childNodes.length>0));var v=({el:e,move:t,cursorPos:n,to:i})=>{if(y(t))return-1*t;return((e,t,n=o)=>{let i=new RegExp("END","i").test(n),r=c(e?p(e,t):t,!0),a=r[0],s=r[r.length-1],l=i&&!e?0:g(t).findIndex(e=>e.isSameNode(i?a:s));return i&&l--,l+1})(t,e,i)-n},w=t=>(e(t)||(t=[t/2,t/2]),t),b=(e,t)=>Math.abs(Math.random()*(e+t-(e-t))+(e-t));let S=e=>e/2;const L=e=>"function"==typeof e?e():e;var D=(e,t)=>Object.assign({},e,t),T=e=>{if(!e)return;const t=e.parentNode;(t.childNodes.length>1?e:t).remove()};const N={"font-family":"","font-weight":"","font-size":"","font-style":"","line-height":"",color:"","margin-left":"-.125em","margin-right":".125em"};function E(e,n={}){const i=async(e,t,n=!1)=>{j.frozen&&await new Promise(e=>{this.unfreeze=()=>{j.frozen=!1,e()}}),n||await q.beforeStep(this),await(async(e,t,n)=>new Promise(i=>{n.push(setTimeout(async()=>{await e(),i()},t))}))(e,t,F),n||await q.afterStep(this)},c=()=>m(U),E=e=>function(e){let{speed:t,deleteSpeed:n,lifeLike:i}=e;return n=null!==n?n:t/3,i?[b(t,S(t)),b(n,S(n))]:[t,n]}(q)[e],M=()=>g(U),$=(e,t=0)=>e?E(t):0,k=(e,t)=>(J.add(e),((e={})=>{let t=e.delay;t&&J.add(()=>I(t))})(t),this),x=(e={})=>[()=>A(e),()=>A(q)],C=e=>{let t=q.nextStringDelay;J.add([()=>I(t[0]),...e,()=>I(t[1])])},H=e=>{Q&&(Y.classList.toggle("disabled",e),Y.classList.toggle("with-delay",!e))},P=async()=>{j.started=!0;let e=J.getItems();try{for(let t=0;t<e.length;t++)await e[t](),J.markDone(t),H(!1);if(j.completed=!0,await q.afterComplete(this),!q.loop)throw"";let t=q.loopDelay;i(async()=>{await(async e=>{_&&await V({value:_}),J.reset(),J.set(0,()=>I(e)),await R({num:null})})(t[0]),P()},t[1])}catch(e){}return this},I=(e=0)=>i(()=>{},e),V=async({value:e,to:t=o,instant:n=!1})=>{H(!0);let r=v({el:U,move:e,cursorPos:_,to:t}),a=()=>{var e,t,n;e=r<0?-1:1,t=_,n=M(),_=Math.min(Math.max(t+e,0),n.length),((e,t,n)=>{let i=t[n-1],r=p(".ti-cursor",e);(e=(null==i?void 0:i.parentNode)||e).insertBefore(r,i||null)})(U,M(),_)};await i(async()=>{for(let e=0;e<Math.abs(r);e++)n?a():await i(a,E(0))},$(n))},z=({chars:e,silent:t=!1,instant:n=!1})=>(H(!0),i(async()=>{const r=e=>((e,t)=>{if(m(e))return void(e.value=`${e.value}${t.textContent}`);t.innerHTML="";let n="BODY"===(null==(i=t.originalParent)?void 0:i.tagName)?e:t.originalParent||e;var i;n.insertBefore(t,p(".ti-cursor",n)||null)})(U,e);t||await q.beforeString(e,this);for(let t of e)n||/<(.+)>(.*?)<\/(.+)>/.test(t.outerHTML)?r(t):await i(()=>r(t),E(0));t||await q.afterString(e,this)},$(n),!0)),A=async e=>{q=D(q,e)},O=async()=>{c()?U.value="":M().forEach(e=>{T(e)})},R=async({num:e=null,instant:t=!1,to:n=o})=>{H(!0),await i(async()=>{let r=y(e)||c()?e:v({el:U,move:e,cursorPos:_,to:n});const a=()=>{let e=M();e.length&&(c()?U.value=U.value.slice(0,-1):T(e[_]))};for(let e=0;e<r;e++)t?a():await i(a,E(1))},$(t,1)),null===e&&M().length-1>0&&await R({num:null})};this.break=function(e){return k(()=>z({chars:[h("BR")],silent:!0}),e)},this.delete=function(e=null,t={}){e=L(e);let n=x(t),i=e,{instant:r,to:a}=t;return k([n[0],()=>R({num:i,instant:r,to:a}),n[1]],t)},this.empty=function(e={}){return k(O,e)},this.exec=function(e,t){let n=x(t);return k([n[0],e,n[1]],t)},this.move=function(e,t={}){e=L(e);let n=x(t),{instant:i,to:r}=t,a={value:null===e?"":e,to:r,instant:i};return k([n[0],()=>V(a),n[1]],t)},this.options=function(e){return e=L(e),k(()=>A(e),e)},this.pause=function(e,t={}){return k(()=>I(L(e)),t)},this.type=function(e,t={}){e=L(e);let n=x(t),i=d(e,q.html),{instant:r}=t,a=[n[0],()=>z({chars:i,instant:r}),n[1]];return k(a,t)},this.is=function(e){return j[e]},this.destroy=function(e=!0){F.forEach(e=>clearTimeout(e)),F=[],L(e)&&T(Y),j.destroyed=!0},this.freeze=function(){j.frozen=!0},this.unfreeze=function(){},this.reset=function(){!this.is("destroyed")&&this.destroy(),J.reset(),_=0;for(let e in j)j[e]=!1;return U[c()?"value":"innerHTML"]="",this},this.go=function(){return j.started?this:((async()=>{!c()&&U.appendChild(Y),Q&&((e,t,n)=>{let i=`[data-typeit-id='${e}'] .ti-cursor`,r=getComputedStyle(n),a=Object.entries(N).reduce((e,[t,n])=>`${e} ${t}: var(--ti-cursor-${t}, ${n||r[t]});`,"");f(`@keyframes blink-${e} { 0% {opacity: 0} 49% {opacity: 0} 50% {opacity: 1} } ${i} { display: inline; letter-spacing: -1em; ${a} animation: blink-${e} ${t.cursorSpeed/1e3}s infinite; } ${i}.with-delay { animation-delay: 500ms; } ${i}.disabled { animation: none; }`,e)})(W,q,U)})(),q.waitUntilVisible?(((e,t)=>{new IntersectionObserver((n,i)=>{n.forEach(n=>{n.isIntersecting&&(t(),i.unobserve(e))})},{threshold:1}).observe(e)})(U,P.bind(this)),this):(P(),this))},this.getQueue=()=>J,this.getOptions=()=>q,this.updateOptions=e=>A(e),this.getElement=()=>U;let U="string"==typeof(B=e)?p(B):B;var B;let F=[],_=0,j=D({},l),q=D(u,n);q=D(q,{html:!c()&&q.html,nextStringDelay:w(q.nextStringDelay),loopDelay:w(q.loopDelay)});let W=Math.random().toString().substring(2,9),J=function(e){const n=function(e){return i=i.concat(t(e)),this};let i=[];return n(e),{add:n,set:function(e,t){i[e]=t},reset:function(){i=i.map(e=>(delete e.done,e))},getItems:()=>i.filter(e=>!e.done),markDone:e=>{i[e].done=!0}}}([()=>I(q.startDelay)]);U.dataset.typeitId=W,f("[data-typeit-id]:before {content: '.'; display: inline-block; width: 0; visibility: hidden;}");let Q=q.cursor&&!c(),Y=(()=>{if(c())return;let e=h("span");return e.className=s,Q?(e.innerHTML=a(q.cursorChar).innerHTML,e):(e.style.visibility="hidden",e)})();q.strings=(e=>{let t=U.innerHTML;return t?(U.innerHTML="",q.startDelete?(U.innerHTML=t,r(U),C([()=>R({num:null})]),e):t.trim().split(/<br(?:\s*?)(?:\/)?>/).concat(e)):e})(t(q.strings)),q.strings.length&&(()=>{let e=q.strings.filter(e=>!!e);e.forEach((t,n)=>{let i=d(t,q.html);if(J.add(()=>z({chars:i})),n+1===e.length)return;const r=[q.breakLines?()=>z({chars:[h("BR")],silent:!0}):()=>R({num:i.length})];C(r)})})()}new E("#title",{speed:50,waitUntilVisible:!0}).go(),new E("#typeit-1",{speed:55,startDelay:2100,cursor:!1,waitUntilVisible:!0}).go(),new E("#typeit-2",{speed:65,startDelay:250,cursor:!1,waitUntilVisible:!0}).go(),new E("#typeit-3",{speed:50,waitUntilVisible:!0}).type("free punks! ",{delay:1e3}).move(-7).delete(1).type(" icp").move(null,{to:"END"}).delete(2).type(" : ").move(-8).delete(1).move(-8).go(),new E("#typeit-4",{speed:55,startDelay:250,waitUntilVisible:!0}).go();const M=document.querySelector("#email"),$=new E(M,{startDelay:5e3,speed:100}).type("Subscribe").exec(async()=>{await new Promise((e,t)=>{setTimeout(()=>e(),600)})}).type(". . .");M.addEventListener("focus",()=>{$.reset()}),M.addEventListener("blur",e=>{e.target.value.length||$.go()}),$.go()})();